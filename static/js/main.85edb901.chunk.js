(this["webpackJsonprecruit-agency-form"]=this["webpackJsonprecruit-agency-form"]||[]).push([[0],{15:function(e,t,a){e.exports={content:"PersonalInfo_content__2ZGaI",personalInfoBlock:"PersonalInfo_personalInfoBlock__3txkK",firstName:"PersonalInfo_firstName__3msbf",occupation:"PersonalInfo_occupation__eWfs9",lastName:"PersonalInfo_lastName__1Hk1I",saveBtn:"PersonalInfo_saveBtn__3BgHl",error:"PersonalInfo_error__3T4_q"}},16:function(e,t,a){e.exports={content:"Skills_content__39kDk",skillsBlock:"Skills_skillsBlock__H_ikd",skill:"Skills_skill__16GBb",addBtn:"Skills_addBtn__3zXN3",removeBtn:"Skills_removeBtn__GK5UD",saveBtn:"Skills_saveBtn__FQorq"}},17:function(e,t,a){e.exports={app:"App_app__2X9J8",container:"App_container__1nuFX",header:"App_header__2ZvKa",personalInfoTab:"App_personalInfoTab__2y_25",skillsTab:"App_skillsTab__kO8sg",activeTab:"App_activeTab__3mw4n"}},48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(24),r=a.n(s),o=(a(48),a(26)),i=a(5),l=a(23),u=a(13),f=a(4),b=a.n(f),j=a(10),p=a(3),d=a(14),m=a(42),O=a.n(m).a.create({baseURL:"https://605dbaf39386d200171bb218.mockapi.io/api/v1"}),_=function(){return O.get("/occupations")},v=function(e){var t=e.firstName,a=e.lastName,n=e.occupation;return O.post("/staff",{firstName:t,lastName:a,occupation:n})},x=function(e){return O.post("/skills",e)},h={occupations:[{code:"PRESIDENT",name:"President"},{code:"PHILANTHROPIST",name:"Bill Gates"},{code:"ASTRONAUT",name:"Astronaut"},{code:"JOCKEY",name:"Jockey"}],skills:[],staff:[],isLoading:!1},N=function(e){return{type:"rec-agency/staff/SET_NEW_EMPLOYEE",payload:e}},g=function(e){return{type:"rec-agency/staff/SET_SKILLS",payload:e}},k=function(e){return{type:"rec-agency/staff/SET_LOADING",value:e}},y=function(){var e=Object(j.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(k(!0)),console.log("fetching data... "),e.next=5,_();case 5:a=e.sent,console.log("res: ",a),t(k(!1)),n=a.data[0].occupations,t({type:"rec-agency/staff/SET_OCCUPATIONS",payload:n}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t(k(!1));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),S=a(15),I=a.n(S),T=a.p+"static/media/loading.ac5d5761.svg",E=a(1);function B(){return Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:T,alt:"",style:{width:"70px",height:"70px"}})})}function L(){var e=Object(l.b)(),t=e.register,a=e.handleSubmit,n=e.errors,c=Object(u.b)(),s=Object(u.c)((function(e){return e.staff.occupations}));return Object(u.c)((function(e){return e.staff.isLoading}))?Object(E.jsx)(B,{}):Object(E.jsxs)("form",{onSubmit:a((function(e){var t,a=e.firstName,n=e.lastName,s=e.occupation;c((t={firstName:a,lastName:n,occupation:s},function(){var e=Object(j.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("sending data... ",t),e.next=4,v(t);case 4:n=e.sent,console.log("res: ",n),a(N(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))})),className:I.a.content,children:[Object(E.jsxs)("div",{className:I.a.personalInfoBlock,children:[Object(E.jsxs)("div",{className:I.a.firstName,children:[Object(E.jsx)("label",{children:"First name"}),Object(E.jsx)("input",{type:"text",name:"firstName",ref:t({required:!0,maxLength:100})}),n.firstName&&Object(E.jsx)("span",{className:I.a.error,children:"First name is required"})]}),Object(E.jsxs)("div",{className:I.a.occupation,children:[Object(E.jsx)("label",{children:"Occupation"}),Object(E.jsxs)("select",{name:"occupation",ref:t,children:[Object(E.jsx)("option",{value:""}),s.map((function(e,t){return Object(E.jsx)("option",{value:e.code,children:e.code},t+e.code)}))]})]}),Object(E.jsxs)("div",{className:I.a.lastName,children:[Object(E.jsx)("label",{children:"Last name"}),Object(E.jsx)("input",{type:"text",name:"lastName",ref:t({required:!0,maxLength:100})}),n.lastName&&Object(E.jsx)("span",{className:I.a.error,children:"Last name is required"})]})]}),Object(E.jsx)("input",{type:"submit",value:"SAVE",className:I.a.saveBtn})]})}var P=a(16),A=a.n(P);function C(){var e=Object(l.b)(),t=e.register,a=e.control,n=e.handleSubmit,c=Object(l.a)({control:a,name:"skill"}),s=c.fields,r=c.append,o=c.remove,i=Object(u.b)();return Object(E.jsxs)("form",{onSubmit:n((function(e){console.log("form data: ",e);var t,a=Object.values(e).filter((function(e){return e.length>0}));a.length>0&&i((t=a,function(){var e=Object(j.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("sending data... ",t),e.next=4,x(t);case 4:n=e.sent,console.log("res: ",n),a(g(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))})),className:A.a.content,children:[Object(E.jsxs)("div",{className:A.a.skillsBlock,children:[Object(E.jsx)("label",{children:"Skills"}),Object(E.jsxs)("div",{className:A.a.skill,children:[Object(E.jsx)("input",{ref:t(),name:"skill0",defaultValue:""}),Object(E.jsx)("button",{type:"button",onClick:function(){return r({})},className:A.a.addBtn,children:"+"})]}),s.map((function(e,a){var n=e.id,c=e.skill;return Object(E.jsxs)("div",{className:A.a.skill,children:[Object(E.jsx)("input",{ref:t(),name:"skill".concat(a+1),defaultValue:c}),Object(E.jsx)("button",{type:"button",onClick:function(){return o(a)},className:A.a.removeBtn,children:"-"})]},n)}))]}),Object(E.jsx)("input",{type:"submit",value:"SAVE",className:A.a.saveBtn})]})}var w=a(17),F=a.n(w);var K=function(){var e=Object(u.b)();return Object(n.useEffect)((function(){e(y)}),[e]),Object(E.jsx)("div",{className:F.a.app,children:Object(E.jsx)("div",{className:F.a.container,children:Object(E.jsxs)(o.a,{children:[Object(E.jsxs)("div",{className:F.a.header,children:[Object(E.jsx)(o.b,{exact:!0,to:"/recruit-agency-form",activeClassName:F.a.activeTab,className:F.a.personalInfoTab,children:"PERSONAL INFO"}),Object(E.jsx)(o.b,{exact:!0,to:"/recruit-agency-form/skills",activeClassName:F.a.activeTab,className:F.a.skillsTab,children:"SKILLS"})]}),Object(E.jsxs)(i.c,{children:[Object(E.jsx)(i.a,{exact:!0,path:"/recruit-agency-form",render:function(){return Object(E.jsx)(L,{})}}),Object(E.jsx)(i.a,{exact:!0,path:"/recruit-agency-form/skills",render:function(){return Object(E.jsx)(C,{})}})]})]})})})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},D=a(20),G=a(43),H=Object(D.c)({staff:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"rec-agency/staff/SET_OCCUPATIONS":return Object(d.a)(Object(d.a)({},e),{},{occupations:[].concat(Object(p.a)(e.occupations),Object(p.a)(t.payload))});case"rec-agency/staff/SET_SKILLS":return Object(d.a)(Object(d.a)({},e),{},{skills:[].concat(Object(p.a)(e.skills),Object(p.a)(t.payload))});case"rec-agency/staff/SET_NEW_EMPLOYEE":return Object(d.a)(Object(d.a)({},e),{},{staff:[].concat(Object(p.a)(e.staff),[t.payload])});case"rec-agency/staff/SET_LOADING":return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.value});default:return e}}}),J=Object(D.d)(H,Object(D.a)(G.a));r.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(u.a,{store:J,children:Object(E.jsx)(K,{})})}),document.getElementById("root")),q()}},[[74,1,2]]]);
//# sourceMappingURL=main.85edb901.chunk.js.map